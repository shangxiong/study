<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"><title>随机生成密码</title>
<body>
<style>html{background:url(data:image/gif;base64,R0lGODlhBgAGAIAAAPPz8+bm5iH5BAAAAAAALAAAAAAGAAYAAAIJRI52aroY2lsFADs=);}
label,button,[type='checkbox']{cursor: pointer;}
b{border: 1px solid silver;line-height: 20px;padding: 2px 6px;background: #000;color:#fff;display: inline-block;l}
</style>
  <script src='http://apps.bdimg.com/libs/jquery/1.7.2/jquery.min.js'></script>
  <script type='text/javascript'>
  var $cdu,str='';
  var zifu=["1234567890","zxcvbnmasdfghjklqwertyuiop","QWERTYUIPASDFGHJKLZXCVBNM","!$%^&*-_=+{[()]};:'\"\\/@#~|,<.>?"];
function randomStr(len) {
　//　var $chars =  /****默认去掉了容易混淆的字符大O,保留小o和数字0.****/
	var maxPos =str.length;
	var pwd='';
　　for (i = 0; i < len; i++) {
　　　　pwd+= str.charAt(Math.floor(Math.random() * maxPos));
　　}
	pwd=pwd.replace(/</g, "&lt;");
	document.getElementById('out').innerHTML=pwd;
};

$(function(){


	//加载获取选中
	$(':checked').each(function(i){
		//alert($(this).index('[type=checkbox]'))
		$i=$(this).index('[type=checkbox]');
		str+=zifu[$i];
	});
	
	//改变获取选中
	$('[type=checkbox]').change(function(){
		str='';
		$.each($(':checked'),function(i){
			$i=$(this).index('[type=checkbox]');
			str+=zifu[$i];
		});

	})

   //获取 数字
   $cdu=$('[name=cdu]').val();
   $('[name=cdu]').change(function(){
	     $cdu=$(this).val();
		$cdu=Number($cdu);
		$cdu=($cdu<1||$cdu>100)?16:$cdu;
		
   })

   //btn
   	$('button').click(function(){
		//console.warn($cdu+'\n')
		randomStr($cdu);
	});
});
window.onload=function(){
	if(location.href.indexOf('?pwords')!=-1){
		randomStr($cdu);
	}
}
 </script>
</body><h1>选着要生成的密码类型</h1>
<label><input type="checkbox" name='num' checked>数字</label>	
<label><input type="checkbox" name='aaa' checked>a-z</label>	
<label><input type="checkbox" name='AAA'  checked>A-Z</label>	
<label><input type="checkbox" name='fuhao' >字符：~!@……</label><p></p>	
<label><input type="text" name='zifu' value='勾选需要的类型，点击生成→'disabled></label>	　　 
<button autofocus>生成密码</button>
<br><br>密码长度：<input type="NUMBER" value=32 name='cdu' style='width:3em'> 
<b id='out'>4</b>
<p id='outs'></p>
</html>